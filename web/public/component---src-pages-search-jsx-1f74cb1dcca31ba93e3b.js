(window.webpackJsonp=window.webpackJsonp||[]).push([[8],{153:function(e,t,r){"use strict";r.r(t);var n=r(278),a=r.n(n),o=r(0),i=r.n(o),s=r(154),l=r(9),c=r.n(l),d=r(163),u=r.n(d),p=r(159),h=r(275),f=r(200),g=(r(36),r(202),r(49)),m=r.n(g),y=r(16),w=r.n(y),x=(r(48),r(84),r(50),r(285),r(51),r(170),r(401)),C=s.a.div.withConfig({displayName:"style__NoResults"})([""]),_=s.a.div.withConfig({displayName:"style__ResultRowWrapper"})(["display:grid;grid-gap:10px;margin:10px;margin-left:10px;border:1px solid black;grid-template-rows:1fr;grid-template-columns:70px 45px 1fr;grid-template-areas:'image code name';height:70px;width:100%;background:white;transition-duration:0.1s;"]),b=s.a.div.withConfig({displayName:"style__ResultRowWrapperHovered"})(["display:grid;grid-gap:10px;margin:10px;margin-left:10px;border:1px solid black;grid-template-rows:1fr;grid-template-columns:70px 45px 1fr;grid-template-areas:'image code name';height:70px;width:100%;background:'#d9d9d9';transition-duration:0.1s;-webkit-box-shadow:-3px 4px 7px 0px rgba(0,0,0,0.25);-moz-box-shadow:-3px 4px 7px 0px rgba(0,0,0,0.25);box-shadow:-3px 4px 7px 0px rgba(0,0,0,0.25);transform:scale(1.03);"]),k=s.a.div.withConfig({displayName:"style__ResultRowIndustryHeader"})(["display:flex;font-weight:bold;font-size:20px;margin-left:5px;"]),v=(s.a.a.withConfig({displayName:"style__ResultsShowMore"})(["display:flex;justify-content:center;flex-direction:column;font-weight:bold;font-size:30px;background:",";color:",";align-items:center;text-decoration:none !important;"],function(e){return e.searchResultsMoreBackgroundColor},function(e){return e.searchResultsMoreColor}),s.a.div.withConfig({displayName:"style__ResultRowImage"})(["grid-area:image;align-self:center;display:flex;flex-direction:column;text-align:center;justify-content:center;"])),E=s.a.div.withConfig({displayName:"style__ResultRowCode"})(["grid-area:code;background:gray;height:30px;color:white;align-self:center;display:flex;flex-direction:column;text-align:center;justify-content:center;"]),B=s.a.div.withConfig({displayName:"style__ResultRowName"})(["grid-area:name;text-align:left;align-self:center;"]),S=s.a.div.withConfig({displayName:"style__SearchResultsWrapper"})(["width:100%;"]),R=function(e){var t=i.a.createElement(_,{onMouseOver:e.handleHover},i.a.createElement(v,null,i.a.createElement(x.a,{type:"picture",theme:"filled",style:{fontSize:"60px"}})),i.a.createElement(E,null,e.row.code),i.a.createElement(B,null,e.row.name)),r=i.a.createElement(b,{onMouseOver:e.handleHover},i.a.createElement(v,null,i.a.createElement(x.a,{type:"picture",theme:"filled",style:{fontSize:"60px"}})),i.a.createElement(E,null,e.row.code),i.a.createElement(B,null,e.row.name));return e.selected?r:t},I=function(e){function t(t){var r;return(r=e.call(this,t)||this).state={rowLimit:10,selectedRow:null},r}c()(t,e);var r=t.prototype;return r.componentDidMount=function(){this.setState({isLoading:!0})},r.onHover=function(e){this.setState({selectedRow:e})},r.render=function(){var e=this,t=this.props.data?this.props.data.items.reduce(function(e,t){return e.hasOwnProperty(t._source.industry)?e[t._source.industry].push(t):e[t._source.industry]=[t],e},{}):null,r=[];if(this.props.data)for(var n=Object.entries(t),a=0;a<n.length;a++){var o=n[a],s=o[0],l=o[1];r.push(i.a.createElement(k,null,s)),l.map(function(t){return r.push(i.a.createElement(R,{handleHover:function(){return e.onHover(t._source.code)},selected:e.state.selectedRow===t._source.code,key:t._source.code,row:t._source}))})}var c=this.props.data?this.props.data.items.map(function(t){return i.a.createElement(R,{handleHover:function(){return e.onHover(t._source.code)},selected:e.state.selectedRow===t._source.code,key:t._source.code,row:t._source})}):i.a.createElement(C,null,"No Results Found");return i.a.createElement(p.a.Consumer,null,function(t){return i.a.createElement(S,null,c.length>0?c:e.props.query.length>0?i.a.createElement(C,null,"No Results Found"):null)})},t}(i.a.Component),N={entering:{opacity:0,width:0},entered:{opacity:1,width:310},exited:{opacity:0,width:0}},U=s.a.input.withConfig({displayName:"style__CustomInput"})(["font-size:1em;text-align:left;height:50px;border-radius:","px;background:transparent;position:absolute;z-index:20;padding:0.5em;padding-right:45px;padding-left:55px;display:block;width:",";transition:",";transition-property:width,opacity,transform;outline:none;border:none;&:focus{outline:none;}"],function(e){return e.focused,15},function(e){return e.focused,"100%"},function(e){return e.duration+"ms ease-in"}),O=s.a.div.withConfig({displayName:"style__SearchBarWrapper"})(["display:flex;height:50px;align-items:stretch;background:",";border:2px solid ",";border-radius:","px;width:100%;transition-duration:0.5s;top:30px;z-index:20;"],function(e){return e.focused?e.searchBarBackgroundFocused:e.searchBarBackgroundUnfocused},function(e){return e.focused?e.searchBarBorderFocused:e.searchBarBorderUnfocused},function(e){return e.focused?15:50}),j=s.a.div.withConfig({displayName:"style__SearchBarIconWrapper"})(["position:absolute;border-radius:50px;display:grid;background:",";align-items:center;width:","px;height:","px;align-self:center;margin-left:10px;transition-duration:150ms;z-index:22;"],function(e){return e.focused?e.searchIconBackgroundFocused:e.searchIconBackgroundUnfocused},function(e){return e.focused?40:45},function(e){return e.focused?40:45}),F=s.a.div.withConfig({displayName:"style__SearchBarClearIconWrapper"})(["border-radius:50px;display:grid;background:",";align-items:center;align-self:center;margin-left:96%;transition-duration:150ms;z-index:22;"],function(e){return e.focused?e.searchClearIconBackgroundFocused:e.searchClearIconBackgroundUnfocused}),L=s.a.div.withConfig({displayName:"style__PrimaryColumn"})(["flex:2;width:100%;display:flex;border-radius:50px;background:transparent;"]),T=(s.a.div.withConfig({displayName:"style__SecondaryColumn"})(["flex:1;"]),s.a.button.withConfig({displayName:"style__Button"})(["display:flex;justify-content:center;align-items:center;outline:0;height:100%;"]),function(e){function t(t){var r;return(r=e.call(this,t)||this).state={query:"",error:!1,focused:!1,results:null,isLoading:!1},r.handleOutsideClick=r.handleOutsideClick.bind(m()(m()(r))),r.escFunction=r.escFunction.bind(m()(m()(r))),r}c()(t,e);var r=t.prototype;return r.handleOutsideClick=function(e){if(w.a.findDOMNode(this).contains(e.target))return this.setState(function(e){return{focused:!0}}),!1;this.handleSelect(e),this.setState(function(e){return{focused:!1}})},r.escFunction=function(e){27===e.keyCode&&this.setState(function(e){return{focused:!1}})},r.componentDidMount=function(){document.addEventListener("keydown",this.escFunction,!1)},r.componentWillUnmount=function(){document.removeEventListener("keydown",this.escFunction,!1)},r.handleSelect=function(e){this.state.focused?w.a.findDOMNode(this).contains(e.target)?this.setState(function(e){return{focused:!0}}):document.removeEventListener("click",this.handleOutsideClick,!1):(document.addEventListener("click",this.handleOutsideClick,!1),this.setState(function(e){return{focused:!0}}))},r.onFocus=function(){},r.onClick=function(){this.setState({focused:!0})},r.onBlur=function(){""!==this.props.query?this.setState({focused:!1}):this.setState(function(e){return{focused:!e.focused}})},r.render=function(){var e=this;return i.a.createElement(p.a.Consumer,null,function(t){return i.a.createElement(O,Object.assign({onClick:function(t){return e.handleSelect(t)}},t,e.state),i.a.createElement(L,t,i.a.createElement(j,Object.assign({},t,e.state),i.a.createElement(x.a,{fill:e.state.focused?t.searchIconColorFocused:t.searchIconColorUnfocused,style:{fontSize:"25px",color:e.state.focused?t.searchIconColorFocused:t.searchIconColorUnfocused},type:"search",theme:"filled"})),i.a.createElement(F,{onClick:function(){return e.props.onClear()}},i.a.createElement(x.a,{fill:t.searchClearIconColor,style:{fontSize:"15px",visibility:""!==e.props.query&&e.state.focused?"visible":"hidden",color:t.searchClearIconColor},type:"close",theme:"filled"})),i.a.createElement(u.a,{in:e.state.focused,timeout:100,unmountOnExit:!0},function(r){return i.a.createElement(U,Object.assign({autoFocus:!0},t,{duration:100},N[r],{type:"text",placeholder:e.state.focused?"Search for company":"",onFocus:function(){return e.onFocus()},onChange:function(t){return e.props.onQueryChange(t)},value:e.props.query}))})))})},t}(i.a.Component)),D=s.a.div.withConfig({displayName:"style__SearchWrapper"})(["display:grid;grid-gap:10px;justify-content:center;grid-template-rows:140px 1fr 150px;grid-template-columns:1fr;grid-template-areas:'header' 'results' 'footer';"]),A=s.a.div.withConfig({displayName:"style__SearchHeaderWrapper"})(["display:grid;grid-area:header;justify-self:center;grid-gap:10px;margin-left:10px;width:1100px;grid-template-rows:114px;grid-template-columns:220px 1fr;grid-template-areas:'logo searchbar';height:35px;background:",";"],function(e){return e.selected?"#d9d9d9":"white"}),q=s.a.div.withConfig({displayName:"style__SearchResultWrapper"})(["display:flex;grid-area:results;width:1100px;justify-self:center;"]),z=s.a.div.withConfig({displayName:"style__LogoWrapper"})(["grid-area:logo;"]),M=s.a.div.withConfig({displayName:"style__SearchBarWrapper"})(["grid-area:searchbar;width:100%;align-self:auto;align-self:center;"]),W=(r(236),function(e){function t(t){var r;return(r=e.call(this,t)||this).changeTheme=function(e){r.setState({theme:e?"dark":"light"})},r.handleClick=function(e){r.setState({current:e.key})},r.toggleCollapsed=function(){r.setState({collapsed:!r.state.collapsed})},r.state={theme:"dark",results:null,query:""},r}c()(t,e);var r=t.prototype;return r.handleQueryChange=function(e){var t=this;this.setState({query:e.target.value},function(){t.state.query&&t.state.query.length>1&&t.fetchResults()})},r.handleClear=function(){this.setState({query:""})},r.fetchResults=function(){var e=this;Object(h.a)(this.state.query).then(function(t){return e.setState({results:t,isLoading:!1})}).catch(function(t){return e.setState({error:t,isLoading:!1})})},r.render=function(){var e=this;return i.a.createElement(p.a.Provider,{value:p.b[this.state.theme].style},i.a.createElement(p.a.Consumer,null,function(t){return i.a.createElement(D,t,i.a.createElement(A,null,i.a.createElement(z,null,i.a.createElement(f.a,null)),i.a.createElement(M,null,i.a.createElement(T,{query:e.state.query,onClear:function(){return e.handleClear()},onQueryChange:function(t){return e.handleQueryChange(t)}}))),i.a.createElement(q,null,i.a.createElement(I,{query:e.state.query,data:e.state.results})))}))},t}(i.a.Component));function H(){var e=a()(["\n  body {\n    margin: 0;\n    padding: 0;\n    border: 0;\n    outline: 0;\n  }\n"]);return H=function(){return e},e}Object(s.b)(H());t.default=function(){return i.a.createElement(W,null)}},159:function(e,t,r){"use strict";r.d(t,"b",function(){return a}),r.d(t,"a",function(){return o});var n=r(0),a={light:{name:"light",style:{color:"black",textTitleColor:"black",textSubTitleColor:"black",textColor:"black",background:"white",widgetBorder:"white",widgetBackgroundColor:"white",widgetRowBackgroundColor:"white",widgetRowBorderColor:"gray",graphBackground:"#e7e7e7",fill:"white",stroke:"black",upStroke:"green",downStroke:"red",buttonSelected:"#5fa0dd",buttonUnselected:"#7d7d7d",axisColor:"black",searchIconColorUnfocused:"black",searchIconBackgroundUnfocused:"#d9d9d9",searchIconColorFocused:"white",searchIconBackgroundFocused:"black",searchBarBackgroundFocused:"white",searchBarBackgroundUnfocused:"#d9d9d9",searchBarBorderUnfocused:"gray",searchBarBorderFocused:"#1890ff",searchResultsDropdownBoarder:"gray",searchClearIconColor:"",searchResultsMoreBackgroundColor:"black",searchResultsMoreColor:"white"}},dark:{name:"dark",style:{color:"white",textTitleColor:"white",textSubTitleColor:"white",textColor:"white",background:"#161616",widgetBorderColor:"#1C1C1C",widgetBackgroundColor:"#1F1F1F",widgetRowBackgroundColor:"#242424",widgetRowBorderColor:"gray",graphBackground:"#1F1F1F",stroke:"white",upStroke:"green",downStroke:"red",buttonSelected:"#1890ff",buttonUnselected:"#001529",axisColor:"white",searchIconColorUnfocused:"black",searchIconBackgroundUnfocused:"#d9d9d9",searchIconColorFocused:"white",searchIconBackgroundFocused:"black",searchBarBackgroundFocused:"white",searchBarBackgroundUnfocused:"#d9d9d9",searchBarBorderUnfocused:"gray",searchBarBorderFocused:"#1890ff",searchResultsDropdownBoarder:"black",searchClearIconColor:"",searchResultsMoreBackgroundColor:"black",searchResultsMoreColor:"white"}}},o=r.n(n).a.createContext(a.dark)},200:function(e,t,r){"use strict";r(36),r(232);var n=r(0),a=r.n(n),o=r(154),i=(o.a.img.withConfig({displayName:"style__LogoImageWrapper"})(["fill:#e7e6ea;"]),o.a.a.withConfig({displayName:"style__Wrapper"})(["display:flex;float:left;text-decoration:none !important;color:",";background:",";"],function(e){return e.color},function(e){return e.background})),s=o.a.span.withConfig({displayName:"style__LogoTextWrapper"})(["display:flex;flex-direction:column-reverse;font-size:25px;letter-spacing:5px;margin-left:5px;font-weight:bold;font-family:Avenir Next,sans-serif;color:",";background:",";"],function(e){return e.color?e.color:"gray"},function(e){return e.background}),l=function(e){return a.a.createElement("div",{style:{width:70,height:70,marginLeft:10,marginTop:10}},a.a.createElement("svg",{width:e.collapsed?"80":"90",height:e.collapsed?"60":"140",viewBox:e.collapsed?"0 0 120 100":"0 0 150 160",fill:e.fill,xmlns:"http://www.w3.org/2000/svg"},a.a.createElement("path",{d:"M99.6329 0C116.928 36.6404 95.3979 104.487 77.7588 81.2665C27.049 14.5109 42.0704 93.1702 0 79.8191",transform:"translate(114 4) scale(-1 1)",stroke:e.stroke,strokeWidth:"15"})))};t.a=function(e){return a.a.createElement(i,Object.assign({},e.theme,{href:"/"}),a.a.createElement(l,{collapsed:e.collapsed,fill:"none",stroke:e.theme?e.theme.stroke:"gray"}),e.collapsed?null:a.a.createElement(s,e.theme,"shorted"))}},236:function(e,t,r){"use strict";r.d(t,"a",function(){return a}),r.d(t,"e",function(){return o}),r.d(t,"c",function(){return i}),r.d(t,"f",function(){return s}),r.d(t,"b",function(){return l}),r.d(t,"d",function(){return c}),r.d(t,"g",function(){return d});var n=r(154),a=n.a.div.withConfig({displayName:"style__NoResults"})([""]),o=n.a.div.withConfig({displayName:"style__ResultRowWrapper"})(["display:grid;grid-gap:10px;margin-left:10px;grid-template-rows:1fr;grid-template-columns:45px 1fr;grid-template-areas:'code name';height:35px;background:",";"],function(e){return e.selected?"#d9d9d9":"white"}),i=n.a.div.withConfig({displayName:"style__ResultRowIndustryHeader"})(["display:flex;font-weight:bold;font-size:20px;margin-left:5px;"]),s=n.a.a.withConfig({displayName:"style__ResultsShowMore"})(["display:flex;justify-content:center;flex-direction:column;font-weight:bold;font-size:30px;background:",";color:",";align-items:center;text-decoration:none !important;"],function(e){return e.searchResultsMoreBackgroundColor},function(e){return e.searchResultsMoreColor}),l=n.a.div.withConfig({displayName:"style__ResultRowCode"})(["grid-area:code;background:gray;color:white;align-self:center;text-align:center;"]),c=n.a.div.withConfig({displayName:"style__ResultRowName"})(["grid-area:name;text-align:left;align-self:center;"]),d=n.a.div.withConfig({displayName:"style__SearchResultsWrapper"})([""])},275:function(e,t,r){"use strict";var n=r(279),a=r.n(n),o={hostname:Object({NODE_ENV:"production",PUBLIC_DIR:"/Users/castlemilk/projects/shorted/public",BUILD_STAGE:"build-javascript",GATSBY_BUILD_STAGE:"build-javascript"}).ELASTICSEARCH_PROXY_MODE+"://"+Object({NODE_ENV:"production",PUBLIC_DIR:"/Users/castlemilk/projects/shorted/public",BUILD_STAGE:"build-javascript",GATSBY_BUILD_STAGE:"build-javascript"}).ELASTICSEARCH_PROXY_HOST+":"+Object({NODE_ENV:"production",PUBLIC_DIR:"/Users/castlemilk/projects/shorted/public",BUILD_STAGE:"build-javascript",GATSBY_BUILD_STAGE:"build-javascript"}).ELASTICSEARCH_PROXY_PORT+Object({NODE_ENV:"production",PUBLIC_DIR:"/Users/castlemilk/projects/shorted/public",BUILD_STAGE:"build-javascript",GATSBY_BUILD_STAGE:"build-javascript"}).ELASTICSEARCH_PROXY_PREFIX+"/",index:"companies",authentication:{username:"elastic",password:"changeme"}};function i(e){return 200!==e.status?null:{hits:e.data.hits.total,max_score:e.data.hits.max_score,items:e.data.hits.hits}}function s(e){if(e.status>=200&&e.status<300)return e;var t=new Error(e.statusText);throw t.response=e,t}function l(e,t){void 0===t&&(t=20);var r=o.index+"/_search",n=a.a.create({baseURL:o.hostname,auth:o.authentication,headers:{"Content-Type":"application/json"}}),l={size:t,query:function(e){return{bool:{should:[{match_phrase_prefix:{name:{query:e,max_expansions:10,slop:10}}},{match:{name:{query:e,fuzziness:"AUTO",operator:"and",prefix_length:1}}},{term:{"code.raw":{value:e,boost:2}}}]}}}(e)};return n.post(r,l).then(s).then(i)}r.d(t,"a",function(){return l})}}]);
//# sourceMappingURL=component---src-pages-search-jsx-1f74cb1dcca31ba93e3b.js.map